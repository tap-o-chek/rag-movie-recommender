# Telegram Movie Recommender Bot with RAG

## Описание проекта

Данный проект представляет собой интеллектуального Telegram-бота для рекомендаций фильмов на основе технологии Retrieval-Augmented Generation (RAG). Бот принимает текстовые запросы пользователей на русском и английском языках, осуществляет поиск релевантных фильмов с помощью модели SentenceTransformer и библиотеки FAISS, а затем возвращает пользователю подборку наиболее подходящих фильмов с краткими описаниями.

Проект предназначен для удобного взаимодействия с пользователями, не владеющими английским языком, благодаря встроенному модулю перевода ответов с английского на русский.

---

## Основные возможности

* Семантический поиск фильмов по описаниям и жанрам с учетом мультиязычности
* Поддержка запросов на русском и английском языках
* Перевод результатов на русский язык при необходимости
* Интерактивный интерфейс с кнопкой "Ещё 5 фильмов" для постепенного просмотра рекомендаций
* Простая установка и запуск на локальной машине

---

## Требования

* Python 3.8 и выше
* Подключение к интернету (для Telegram API и Google Translator)
* Телеграм-бот с полученным токеном (создается через BotFather)

---

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/your_username/rag-movie-recommender.git  
   cd rag-movie-recommender  
   ```

2. Создайте и активируйте виртуальное окружение:

   ```bash
   python -m venv .venv  
   # Windows:  
   .venv\Scripts\activate  
   # Linux/MacOS:  
   source .venv/bin/activate  
   ```

3. Установите необходимые зависимости:

   ```bash
   pip install -r requirements.txt  
   ```

4. Поместите файл с предвычисленными данными и эмбеддингами `movies_with_embeddings.pkl` в директорию проекта.

5. Укажите токен Telegram-бота в переменной окружения `TELEGRAM_TOKEN` или напрямую в коде (не рекомендуется для публичных репозиториев).

---

## Запуск

Запустите бота командой:

```bash
python tg_bot.py  
```

После запуска бот будет готов к приему сообщений.

---

## Структура проекта

* `tg_bot.py` — основной скрипт с реализацией Telegram-бота и логикой обработки запросов
* `movies_with_embeddings.pkl` — сериализованный DataFrame с фильмами и эмбеддингами
* `requirements.txt` — файл с зависимостями проекта
* `.gitignore` — настройки игнорируемых файлов для git

---

## Используемые технологии и библиотеки

* `python-telegram-bot` — взаимодействие с Telegram API и обработка сообщений
* `sentence_transformers` — получение векторных представлений текстов (эмбеддинги)
* `faiss` — эффективный поиск ближайших соседей в высокоразмерных пространствах
* `pandas` и `numpy` — работа с табличными данными и числовыми массивами
* `deep_translator` — интеграция с Google Translate для перевода ответов

---

## Особенности реализации

Проект реализует Retrieval-Augmented Generation (RAG) подход, где сначала происходит поиск релевантных текстовых документов (фильмов) по эмбеддингам, а затем формируется ответ на основе найденных данных. Это повышает качество рекомендаций и адаптирует систему под различные языковые запросы.

---

## Возможные проблемы и рекомендации

* Для корректной работы FAISS на Windows может потребоваться установка соответствующих бинарных пакетов или использование conda.
* При добавлении новых данных требуется переобучить или пересоздать эмбеддинги и обновить индекс FAISS.
* Токен Telegram-бота следует хранить в безопасном месте и не публиковать в открытых репозиториях.
